<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Arc XP Composer Prototype</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Output+Sans:wght@300;400;500;600;700&display=swap">
  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }
    
    body {
      font-family: 'Output Sans', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
      margin: 0;
      padding: 0;
      height: 100vh;
      overflow: hidden;
    }
    
    strong {
      font-weight: 600;
    }
    
    .composer-container {
      display: flex;
      flex-direction: column;
      height: 100vh;
      background-color: #F8FAFD;
    }
    
    .composer-container.hidden {
      display: none;
    }
    
    .data-center-container {
      display: none;
      flex-direction: column;
      height: 100vh;
      background-color: #F8FAFD;
    }
    
    .data-center-container.visible {
      display: flex;
    }
    
    .top-nav {
      background-color: #2C3142;
      color: #FFFFFF;
      padding: 12px 24px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      border-bottom: 1px solid #1F2533;
    }
    
    .top-nav-left {
      display: flex;
      align-items: center;
      gap: 32px;
    }
    
    .logo-area {
      display: flex;
      align-items: center;
      gap: 12px;
    }
    
    .logo-circle {
      width: 28px;
      height: 28px;
      border-radius: 50%;
      background-color: #FFFFFF;
    }
    
    .nav-links {
      display: flex;
      gap: 24px;
    }
    
    .nav-link {
      color: #E0E3EE;
      text-decoration: none;
      font-size: 14px;
      font-weight: 500;
      transition: color 200ms ease;
    }
    
    .nav-link:hover {
      color: #FFFFFF;
    }
    
    .top-nav-right {
      display: flex;
      align-items: center;
      gap: 12px;
    }
    
    .sandbox-badge {
      background-color: #FDF1D5;
      color: #692609;
      padding: 6px 12px;
      border-radius: 4px;
      font-size: 14px;
      font-weight: 500;
      border: 1px solid #F4C681;
    }
    
    .user-avatar {
      width: 32px;
      height: 32px;
      border-radius: 50%;
      background-color: #656A86;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 14px;
      font-weight: 500;
    }
    
    .sub-header {
      background-color: #FFFFFF;
      padding: 12px 24px;
      border-bottom: 1px solid #E0E3EE;
      display: flex;
      align-items: center;
      justify-content: space-between;
    }
    
    .sub-header-left {
      display: flex;
      align-items: center;
      gap: 16px;
    }
    
    .sub-header-right {
      display: flex;
      align-items: center;
      gap: 12px;
    }
    
    .btn {
      padding: 8px 16px;
      border-radius: 4px;
      cursor: pointer;
      font-size: 14px;
      font-weight: 500;
      border: 1px solid transparent;
      display: inline-flex;
      align-items: center;
      gap: 8px;
      font-family: 'Output Sans', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
      transition: all 200ms ease;
      height: 32px;
      line-height: 120%;
      letter-spacing: 0.02em;
    }
    
    .btn-icon {
      background: none;
      border: none;
      cursor: pointer;
      padding: 8px;
      color: #656A86;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 4px;
      transition: all 200ms ease;
    }
    
    .btn-icon:hover {
      background-color: #EFF1F6;
      color: #191B34;
    }
    
    .btn-neutral {
      background-color: #EFF1F6;
      color: #191B34;
      border-color: transparent;
    }
    
    .btn-neutral:hover {
      background-color: #E0E3EE;
    }
    
    .btn-primary {
      background-color: #1F3CD0;
      color: #FFFFFF;
      border-color: transparent;
    }
    
    .btn-primary:hover {
      background-color: #091678;
    }
    
    .btn-publish {
      background-color: #20A453;
      color: #FFFFFF;
      border-color: transparent;
    }
    
    .btn-publish:hover {
      background-color: #0A5F44;
    }
    
    .btn-secondary {
      background-color: #FFFFFF;
      color: #191B34;
      border: 1px solid #BEC2D5;
    }
    
    .btn-secondary:hover {
      background-color: #EFF1F6;
      border-color: #656A86;
    }
    
    .tabs-container {
      background-color: #FFFFFF;
      padding: 0 24px;
      border-bottom: 1px solid #E0E3EE;
      display: flex;
      gap: 32px;
      align-items: center;
    }
    
    .tab {
      background: none;
      border: none;
      padding: 16px 0;
      cursor: pointer;
      font-size: 14px;
      font-weight: 500;
      color: #656A86;
      border-bottom: 2px solid transparent;
      transition: all 200ms ease;
      font-family: 'Output Sans', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
      line-height: 120%;
      letter-spacing: 0.02em;
    }
    
    .tab:hover {
      color: #191B34;
    }
    
    .tab.active {
      color: #1F3CD0;
      border-bottom: 2px solid #1F3CD0;
    }
    
    .main-content {
      display: flex;
      flex: 1;
      overflow: hidden;
    }
    
    .left-sidebar {
      width: 320px;
      background-color: #F8FAFD;
      border-right: 1px solid #E0E3EE;
      overflow-y: auto;
      padding: 24px;
    }
    
    .section-header {
      width: 100%;
      display: flex;
      justify-content: space-between;
      align-items: center;
      background: none;
      border: none;
      padding: 8px 0;
      cursor: pointer;
      font-size: 16px;
      font-weight: 600;
      color: #191B34;
      margin-bottom: 12px;
      font-family: 'Output Sans', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
      line-height: 120%;
      letter-spacing: 0.02em;
      transition: color 200ms ease;
    }
    
    .section-header:hover {
      color: #1F3CD0;
    }
    
    .section-content {
      display: none;
    }
    
    .section-content.open {
      display: block;
    }
    
    .form-group {
      margin-bottom: 16px;
    }
    
    .form-label {
      display: block;
      font-size: 14px;
      font-weight: 500;
      color: #191B34;
      margin-bottom: 8px;
      font-family: 'Output Sans', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
      line-height: 120%;
      letter-spacing: 0.02em;
    }
    
    .form-input {
      width: 100%;
      padding: 8px 12px;
      border: 1px solid #BEC2D5;
      border-radius: 4px;
      font-size: 14px;
      background-color: #FFFFFF;
      color: #191B34;
      font-family: 'Output Sans', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
      line-height: 120%;
      letter-spacing: 0.02em;
      transition: all 200ms ease;
    }
    
    .form-input:hover {
      border-color: #656A86;
    }
    
    .form-input:focus {
      outline: none;
      border-color: #1F3CD0;
      box-shadow: 0 0 0 3px rgba(31, 60, 208, 0.1);
    }
    
    .circulation-banner {
      background-color: #1F3CD0;
      padding: 16px;
      border-radius: 4px;
      color: #FFFFFF;
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 12px;
      font-size: 14px;
      font-family: 'Output Sans', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
      line-height: 120%;
      letter-spacing: 0.02em;
    }
    
    .circulation-banner button {
      background: #FFFFFF;
      border: none;
      padding: 6px 12px;
      border-radius: 4px;
      cursor: pointer;
      font-size: 12px;
      font-weight: 500;
      color: #1F3CD0;
      font-family: 'Output Sans', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
      transition: all 200ms ease;
    }
    
    .circulation-banner button:hover {
      background-color: #EFF1F6;
    }
    
    .circulation-info {
      background-color: #EFF1F6;
      padding: 12px;
      border-radius: 4px;
      font-size: 14px;
      color: #191B34;
      font-family: 'Output Sans', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
      line-height: 120%;
      letter-spacing: 0.02em;
    }
    
    .editor-area {
      flex: 1;
      overflow-y: auto;
      background-color: #FFFFFF;
      padding: 24px 48px;
      position: relative;
    }
    
    .editor-toolbar {
      border-bottom: 1px solid #E0E3EE;
      padding-bottom: 12px;
      margin-bottom: 24px;
      display: flex;
      gap: 8px;
      align-items: center;
    }
    
    .editor-toolbar select {
      padding: 6px 12px;
      border: 1px solid #BEC2D5;
      border-radius: 4px;
      font-size: 14px;
      font-family: 'Output Sans', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
      color: #191B34;
      background-color: #FFFFFF;
      transition: all 200ms ease;
    }
    
    .editor-toolbar select:hover {
      border-color: #656A86;
    }
    
    .editor-toolbar select:focus {
      outline: none;
      border-color: #1F3CD0;
      box-shadow: 0 0 0 3px rgba(31, 60, 208, 0.1);
    }
    
    .article-title {
      font-size: 32px;
      font-weight: 500;
      color: #191B34;
      margin-bottom: 24px;
      line-height: 1.2;
      font-family: 'Output Sans', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
    }
    
    .article-paragraph {
      font-size: 16px;
      color: #191B34;
      line-height: 1.6;
      margin: 0 0 24px 0;
      font-family: 'Output Sans', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
    }
    
    .article-heading {
      font-size: 24px;
      font-weight: 600;
      color: #191B34;
      margin-bottom: 16px;
      line-height: 1.2;
      font-family: 'Output Sans', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
    }
    
    .add-icon-area {
      position: relative;
      height: 24px;
      display: flex;
      align-items: center;
      cursor: pointer;
      margin-left: -48px;
      padding-left: 48px;
      margin-bottom: 0px;
    }
    
    .add-icon {
      position: absolute;
      left: 12px;
      width: 24px;
      height: 24px;
      border-radius: 50%;
      background-color: transparent;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 200ms ease;
      opacity: 0;
      transform: scale(0.8);
      z-index: 10;
    }
    
    .add-icon-area:hover .add-icon,
    .add-icon.active {
      background-color: #1F3CD0;
      opacity: 1;
      transform: scale(1);
    }
    
    .add-menu {
      position: absolute;
      left: 48px;
      top: 50%;
      transform: translateY(-50%);
      background-color: #FFFFFF;
      border: 1px solid #E0E3EE;
      border-radius: 8px;
      padding: 6px 8px;
      display: none;
      gap: 2px;
      align-items: center;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
      z-index: 1000;
      flex-wrap: nowrap;
    }
    
    .add-menu.visible {
      display: flex;
    }
    
    .add-menu-icon {
      background: none;
      border: none;
      padding: 8px;
      cursor: pointer;
      color: #656A86;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 4px;
      transition: all 200ms ease;
    }
    
    .add-menu-icon:hover {
      background-color: #EFF1F6;
      color: #1F3CD0;
    }
    
    .add-menu-icon svg {
      width: 20px;
      height: 20px;
    }
    
    .event-placeholder {
      background-color: #EFF1F6;
      padding: 48px 24px;
      border-radius: 4px;
      margin-bottom: 24px;
      text-align: center;
      border: 1px solid #BEC2D5;
      font-size: 16px;
      font-weight: 500;
      color: #656A86;
      font-family: 'Output Sans', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
      line-height: 120%;
      letter-spacing: 0.02em;
      cursor: pointer;
      transition: all 200ms ease;
      position: relative;
    }
    
    .event-placeholder:hover {
      background-color: #E0E3EE;
      border-color: #656A86;
    }
    
    .event-placeholder.selected {
      border-color: #1F3CD0;
      border-width: 2px;
    }
    
    .placeholder-flyout {
      position: absolute;
      top: 12px;
      right: 12px;
      background-color: #FFFFFF;
      border: 1px solid #E0E3EE;
      border-radius: 4px;
      padding: 4px;
      display: none;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
      z-index: 100;
    }
    
    .placeholder-flyout.visible {
      display: block;
    }
    
    .flyout-button {
      background: none;
      border: none;
      padding: 8px 16px;
      cursor: pointer;
      font-size: 14px;
      font-weight: 500;
      color: #191B34;
      font-family: 'Output Sans', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
      border-radius: 4px;
      transition: all 200ms ease;
      display: flex;
      align-items: center;
      gap: 8px;
      white-space: nowrap;
    }
    
    .flyout-button:hover {
      background-color: #EFF1F6;
      color: #1F3CD0;
    }
    
    .modal-overlay {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background-color: rgba(0, 0, 0, 0.5);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 2000;
    }
    
    .modal-overlay.visible {
      display: flex;
    }
    
    .modal-content {
      background-color: #FFFFFF;
      width: 90vw;
      height: 90vh;
      border-radius: 8px;
      display: flex;
      overflow: hidden;
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
    }
    
    .modal-sidebar {
      width: 240px;
      background-color: #F8FAFD;
      border-right: 1px solid #E0E3EE;
      padding: 24px;
      overflow-y: auto;
    }
    
    .modal-main {
      flex: 1;
      display: flex;
      flex-direction: column;
    }
    
    .modal-header {
      padding: 24px;
      border-bottom: 1px solid #E0E3EE;
      display: flex;
      align-items: center;
      justify-content: space-between;
    }
    
    .event-list {
      flex: 1;
      overflow-y: auto;
    }
    
    .event-item {
      display: grid;
      grid-template-columns: 3fr 1.5fr 1.5fr 1.5fr;
      gap: 16px;
      padding: 24px;
      border-bottom: 1px solid #E0E3EE;
      transition: background-color 200ms ease;
    }
    
    .event-item:hover {
      background-color: #F8FAFD;
    }
    
    .event-badge {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 4px 8px;
      background-color: #D2FAD2;
      border: 1px solid #75E38A;
      border-radius: 4px;
      font-size: 12px;
      font-weight: 500;
      color: #064E3F;
      margin-bottom: 12px;
      font-family: 'Output Sans', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
      line-height: 120%;
      letter-spacing: 0.02em;
    }
    
    .status-badge {
      padding: 4px 12px;
      color: #FFFFFF;
      border-radius: 4px;
      font-size: 12px;
      font-weight: 600;
      font-family: 'Output Sans', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
      line-height: 120%;
      letter-spacing: 0.02em;
    }
    
    .status-published {
      background-color: #20A453;
    }
    
    .status-draft {
      background-color: #656A86;
    }
    
    .chevron {
      transition: transform 200ms ease;
      color: #656A86;
    }
    
    .chevron.rotated {
      transform: rotate(180deg);
    }
    
    .modal-sidebar h3 {
      font-size: 12px;
      font-weight: 600;
      color: #656A86;
      text-transform: uppercase;
      letter-spacing: 0.05em;
      margin-bottom: 16px;
      font-family: 'Output Sans', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
      line-height: 120%;
    }
    
    .modal-header h2 {
      font-size: 24px;
      font-weight: 600;
      color: #191B34;
      margin: 0;
      font-family: 'Output Sans', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
      line-height: 120%;
      letter-spacing: 0.02em;
    }
    
    .event-item-title {
      font-size: 18px;
      font-weight: 600;
      color: #191B34;
      margin-bottom: 8px;
      font-family: 'Output Sans', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
      line-height: 120%;
      letter-spacing: 0.02em;
    }
    
    .category-badge {
      padding: 4px 12px;
      background-color: #FFFFFF;
      border: 1px solid #BEC2D5;
      color: #191B34;
      border-radius: 4px;
      font-size: 12px;
      font-weight: 500;
      font-family: 'Output Sans', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
      line-height: 120%;
      letter-spacing: 0.02em;
    }
    
    .detail-content {
      flex: 1;
      overflow-y: auto;
      padding: 48px;
      max-width: 1200px;
      margin: 0 auto;
      width: 100%;
    }
    
    .detail-header {
      margin-bottom: 32px;
    }
    
    .detail-title {
      font-size: 32px;
      font-weight: 500;
      color: #191B34;
      margin-bottom: 8px;
      font-family: 'Output Sans', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
      line-height: 120%;
      letter-spacing: 0.02em;
    }
    
    .detail-section {
      background-color: #FFFFFF;
      border: 1px solid #E0E3EE;
      border-radius: 4px;
      padding: 24px;
      margin-bottom: 24px;
    }
    
    .detail-section-title {
      font-size: 18.72px;
      font-weight: 600;
      color: #191B34;
      margin-bottom: 24px;
      font-family: 'Output Sans', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
      line-height: 120%;
      letter-spacing: 0.02em;
    }
    
    .detail-field {
      margin-bottom: 24px;
    }
    
    .detail-field:last-child {
      margin-bottom: 0;
    }
    
    .detail-field-label {
      display: block;
      font-size: 14px;
      font-weight: 600;
      color: #191B34;
      margin-bottom: 8px;
      font-family: 'Output Sans', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
      line-height: 120%;
      letter-spacing: 0.02em;
    }
    
    .detail-field-value {
      font-size: 16px;
      color: #191B34;
      font-family: 'Output Sans', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
      line-height: 1.6;
      padding: 8px 0;
    }
    
    .detail-field-input {
      width: 100%;
      padding: 12px;
      border: 1px solid #BEC2D5;
      border-radius: 4px;
      font-size: 16px;
      background-color: #FFFFFF;
      color: #191B34;
      font-family: 'Output Sans', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
      line-height: 120%;
      letter-spacing: 0.02em;
      transition: all 200ms ease;
    }
    
    .detail-field-input:hover {
      border-color: #656A86;
    }
    
    .detail-field-input:focus {
      outline: none;
      border-color: #1F3CD0;
      box-shadow: 0 0 0 3px rgba(31, 60, 208, 0.1);
    }
    
    .detail-field-textarea {
      width: 100%;
      padding: 12px;
      border: 1px solid #BEC2D5;
      border-radius: 4px;
      font-size: 16px;
      background-color: #FFFFFF;
      color: #191B34;
      font-family: 'Output Sans', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
      line-height: 1.6;
      letter-spacing: 0.02em;
      transition: all 200ms ease;
      min-height: 120px;
      resize: vertical;
    }
    
    .detail-field-textarea:hover {
      border-color: #656A86;
    }
    
    .detail-field-textarea:focus {
      outline: none;
      border-color: #1F3CD0;
      box-shadow: 0 0 0 3px rgba(31, 60, 208, 0.1);
    }
    
    /* Scrollbar styling */
    .left-sidebar::-webkit-scrollbar,
    .editor-area::-webkit-scrollbar,
    .event-list::-webkit-scrollbar,
    .modal-sidebar::-webkit-scrollbar,
    .detail-content::-webkit-scrollbar {
      width: 8px;
    }
    
    .left-sidebar::-webkit-scrollbar-track,
    .editor-area::-webkit-scrollbar-track,
    .event-list::-webkit-scrollbar-track,
    .modal-sidebar::-webkit-scrollbar-track,
    .detail-content::-webkit-scrollbar-track {
      background: #F8FAFD;
    }
    
    .left-sidebar::-webkit-scrollbar-thumb,
    .editor-area::-webkit-scrollbar-thumb,
    .event-list::-webkit-scrollbar-thumb,
    .modal-sidebar::-webkit-scrollbar-thumb,
    .detail-content::-webkit-scrollbar-thumb {
      background: #BEC2D5;
      border-radius: 4px;
    }
    
    .left-sidebar::-webkit-scrollbar-thumb:hover,
    .editor-area::-webkit-scrollbar-thumb:hover,
    .event-list::-webkit-scrollbar-thumb:hover,
    .modal-sidebar::-webkit-scrollbar-thumb:hover,
    .detail-content::-webkit-scrollbar-thumb:hover {
      background: #656A86;
    }
  </style>
</head>
<body>
  <div class="composer-container" id="composer">
    <div class="top-nav">
      <div class="top-nav-left">
        <div class="logo-area">
          <div class="logo-circle"></div>
          <span style="font-size: 20px; font-weight: 500;">Composer</span>
        </div>
        <nav class="nav-links">
          <a href="#" class="nav-link">Stories</a>
          <a href="#" class="nav-link">Settings</a>
          <a href="#" class="nav-link">Templates</a>
        </nav>
      </div>
      <div class="top-nav-right">
        <div class="sandbox-badge">Sandbox</div>
        <span style="font-size: 14px; font-weight: 500;">Aaron Schmidt</span>
        <div class="user-avatar">AS</div>
      </div>
    </div>

    <div class="sub-header">
      <div class="sub-header-left">
        <button class="btn-icon">←</button>
        <div>
          <div style="font-size: 16px; font-weight: 500; color: #191B34;">
            The 2021 Formula 1 World Championship: A Season Like No Other
          </div>
          <div style="font-size: 12px; color: #656A86; margin-top: 2px; font-weight: 500;">
            Saved 11/11/25 at 11:15 AM
          </div>
        </div>
      </div>
      <div class="sub-header-right">
        <button class="btn-icon">⚙</button>
        <button class="btn-icon">⋮</button>
        <button class="btn-icon">⛶</button>
        <button class="btn-icon">↗</button>
        <button class="btn btn-neutral">Draft ▼</button>
        <button class="btn btn-primary">Save</button>
        <button class="btn btn-publish">Publish</button>
      </div>
    </div>

    <div class="tabs-container">
      <button class="tab active">Planning</button>
      <button class="tab">Metadata</button>
      <button class="tab">Featured media</button>
      <button class="tab">Related items</button>
      <button class="tab">Variants</button>
      <button class="btn-icon">▼</button>
    </div>

    <div class="main-content">
      <div class="left-sidebar">
        <div>
          <button class="section-header" onclick="toggleSection('circulations')">
            Circulations
            <span class="chevron" id="chevron-circulations">▼</span>
          </button>
          <div class="section-content open" id="section-circulations">
            <div class="form-group">
              <label class="form-label">Primary website <span style="color: #656A86; font-weight: 400;">(required)</span></label>
              <select class="form-input">
                <option>Adventure Awaits Updated</option>
              </select>
            </div>
            <div class="circulation-banner">
              <span>Circulated to 1 websites, and 1 sections</span>
              <button>Manage circulations</button>
            </div>
            <div class="circulation-info">
              <div style="margin-bottom: 8px;">
                <span style="font-weight: 500; color: #191B34;">Primary website</span>
                <div style="color: #656A86; margin-top: 4px;">Adventure Awaits Updated</div>
              </div>
              <div>
                <span style="font-weight: 500; color: #191B34;">Primary section</span>
                <div style="color: #656A86; margin-top: 4px;">news (News)</div>
              </div>
            </div>
          </div>
        </div>

        <div style="margin-top: 24px;">
          <button class="section-header" onclick="toggleSection('headlines')">
            Headlines
            <span class="chevron" id="chevron-headlines">▼</span>
          </button>
          <div class="section-content open" id="section-headlines">
            <div class="form-group">
              <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 6px;">
                <label class="form-label" style="margin-bottom: 0;">Working headline <span style="color: #656A86; font-weight: 400;">(required)</span></label>
                <span style="font-size: 12px; color: #656A86; font-weight: 500;">61/500 characters</span>
              </div>
              <input type="text" class="form-input" value="The 2021 Formula 1 World Championship: A Season Like No Other">
            </div>
            <div class="form-group">
              <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 6px;">
                <label class="form-label" style="margin-bottom: 0;">Web</label>
                <span style="font-size: 12px; color: #656A86; font-weight: 500;">0/50 characters</span>
              </div>
              <input type="text" class="form-input" placeholder="Add web headline">
            </div>
          </div>
        </div>
      </div>

      <div class="editor-area" id="editor-area">
        <div class="editor-toolbar">
          <button class="btn-icon">↶</button>
          <button class="btn-icon">↷</button>
          <div style="width: 1px; height: 24px; background-color: #E0E3EE; margin: 0 4px;"></div>
          <select>
            <option>Heading 3</option>
          </select>
          <button class="btn-icon"><strong>B</strong></button>
          <button class="btn-icon"><em>I</em></button>
          <button class="btn-icon"><u>U</u></button>
        </div>
        
        <div style="position: absolute; top: 24px; right: 48px; font-size: 12px;">
          <a href="#" style="color: #1F3CD0; text-decoration: none; font-weight: 500; transition: color 200ms ease;" onmouseover="this.style.color='#091678'" onmouseout="this.style.color='#1F3CD0'">Back to old editor</a>
        </div>

        <div style="max-width: 800px;" id="article-content"></div>
      </div>
    </div>
  </div>

  <div class="data-center-container" id="data-center">
    <div class="top-nav">
      <div class="top-nav-left">
        <div class="logo-area">
          <div class="logo-circle"></div>
          <span style="font-size: 20px; font-weight: 500;">Data Center</span>
        </div>
        <nav class="nav-links">
          <a href="#" class="nav-link">Content</a>
          <a href="#" class="nav-link">Events</a>
          <a href="#" class="nav-link">Settings</a>
        </nav>
      </div>
      <div class="top-nav-right">
        <div class="sandbox-badge">Sandbox</div>
        <span style="font-size: 14px; font-weight: 500;">Aaron Schmidt</span>
        <div class="user-avatar">AS</div>
      </div>
    </div>

    <div class="sub-header">
      <div class="sub-header-left">
        <button class="btn-icon" onclick="returnToComposer()">←</button>
        <div>
          <div style="font-size: 16px; font-weight: 500; color: #191B34;" id="event-detail-title">
            Event Details
          </div>
          <div style="font-size: 12px; color: #656A86; margin-top: 2px; font-weight: 500;" id="event-detail-meta">
            Last updated: --
          </div>
        </div>
      </div>
      <div class="sub-header-right">
        <button class="btn-icon">⚙</button>
        <button class="btn-icon">⋮</button>
        <button class="btn btn-neutral" onclick="returnToComposer()">Cancel</button>
        <button class="btn btn-primary">Save Changes</button>
        <button class="btn btn-publish">Publish</button>
      </div>
    </div>

    <div class="detail-content">
      <div class="detail-header">
        <h1 class="detail-title" id="detail-page-title">Event Details</h1>
      </div>

      <div class="detail-section">
        <h2 class="detail-section-title">Basic Information</h2>
        
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 24px; margin-bottom: 24px;">
          <div class="detail-field">
            <label class="detail-field-label">Status</label>
            <select class="detail-field-input" id="edit-status">
              <option value="DRAFT">Draft</option>
              <option value="PUBLISHED">Published</option>
            </select>
          </div>

          <div class="detail-field">
            <label class="detail-field-label">Language</label>
            <select class="detail-field-input" id="edit-language">
              <option value="English">English</option>
              <option value="Spanish">Spanish</option>
              <option value="French">French</option>
            </select>
          </div>
        </div>

        <div class="detail-field">
          <label class="detail-field-label">Display Name</label>
          <input type="text" class="detail-field-input" id="edit-title" placeholder="Enter display name">
        </div>

        <div class="detail-field">
          <label class="detail-field-label">Slug (Unique)</label>
          <input type="text" class="detail-field-input" id="edit-slug" placeholder="event-slug">
          <div style="font-size: 14px; color: #656A86; margin-top: 8px; font-weight: 400;">URL-friendly identifier used for routing and references</div>
        </div>

        <div class="detail-field">
          <label class="detail-field-label">ID</label>
          <input type="text" class="detail-field-input" id="edit-id" readonly style="background-color: #F8FAFD; cursor: not-allowed;">
          <div style="font-size: 14px; color: #656A86; margin-top: 8px; font-weight: 400;">Unique numeric identifier assigned by the system</div>
        </div>
      </div>

      <div class="detail-section">
        <h2 class="detail-section-title">Schema & Version</h2>
        
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 24px;">
          <div class="detail-field">
            <label class="detail-field-label">Schema ID</label>
            <input type="text" class="detail-field-input" id="edit-schema-id" value="event" readonly style="background-color: #F8FAFD; cursor: not-allowed;">
            <div style="font-size: 14px; color: #656A86; margin-top: 8px; font-weight: 400;">Content type schema identifier</div>
          </div>

          <div class="detail-field">
            <label class="detail-field-label">Schema Version</label>
            <input type="text" class="detail-field-input" id="edit-schema-version" value="1.0.2" readonly style="background-color: #F8FAFD; cursor: not-allowed;">
            <div style="font-size: 14px; color: #656A86; margin-top: 8px; font-weight: 400;">Current schema version for compatibility</div>
          </div>
        </div>
      </div>

      <div class="detail-section">
        <h2 class="detail-section-title">Event Details</h2>
        
        <div class="detail-field">
          <label class="detail-field-label">Category</label>
          <input type="text" class="detail-field-input" id="edit-category" placeholder="Enter category">
        </div>

        <div class="detail-field">
          <label class="detail-field-label">Description</label>
          <textarea class="detail-field-textarea" id="edit-description" placeholder="Short description with no formatting"></textarea>
        </div>

        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 24px; margin-bottom: 24px;">
          <div class="detail-field">
            <label class="detail-field-label">Source</label>
            <select class="detail-field-input" id="edit-source">
              <option value="Eventbrite">Eventbrite</option>
              <option value="Manual">Manual</option>
              <option value="Import">Import</option>
            </select>
          </div>

          <div class="detail-field">
            <label class="detail-field-label">Event Status</label>
            <select class="detail-field-input" id="edit-event-status">
              <option value="Confirmed">Confirmed</option>
              <option value="Tentative">Tentative</option>
              <option value="Cancelled">Cancelled</option>
            </select>
          </div>
        </div>

        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 24px;">
          <div class="detail-field">
            <label class="detail-field-label">Priority</label>
            <input type="text" class="detail-field-input" id="edit-priority" placeholder="1">
          </div>

          <div class="detail-field">
            <label class="detail-field-label">Price</label>
            <input type="text" class="detail-field-input" id="edit-price" placeholder="free">
          </div>
        </div>

        <div class="detail-field">
          <label style="display: flex; align-items: center; gap: 8px; cursor: pointer; font-size: 16px; font-weight: 500; color: #191B34;">
            <input type="checkbox" id="edit-all-day" style="width: 20px; height: 20px; cursor: pointer; accent-color: #1F3CD0;">
            All Day Event
          </label>
        </div>
      </div>

      <div class="detail-section">
        <h2 class="detail-section-title">Featured Image</h2>
        
        <div style="border: 2px dashed #BEC2D5; border-radius: 4px; padding: 48px; text-align: center; background-color: #FFFFFF;">
          <div style="display: flex; flex-direction: column; align-items: center; gap: 24px;">
            <svg width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="#656A86" stroke-width="2">
              <rect x="3" y="3" width="18" height="18" rx="2" ry="2"/>
              <circle cx="8.5" cy="8.5" r="1.5"/>
              <polyline points="21 15 16 10 5 21"/>
            </svg>
            <div style="font-size: 16px; color: #656A86; font-weight: 500;">No image selected</div>
            <button class="btn" style="background-color: #FFFFFF; border: 2px solid #20A453; color: #20A453; font-weight: 500;" onmouseover="this.style.backgroundColor='#D2FAD2'" onmouseout="this.style.backgroundColor='#FFFFFF'">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <circle cx="11" cy="11" r="8"/>
                <path d="m21 21-4.35-4.35"/>
              </svg>
              Browse PhotoCenter
            </button>
          </div>
        </div>
      </div>

      <div class="detail-section">
        <h2 class="detail-section-title">Organizer Information</h2>
        
        <div class="detail-field">
          <label class="detail-field-label">Organizer Name</label>
          <input type="text" class="detail-field-input" id="edit-organizer-name" placeholder="Enter organizer name">
        </div>

        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 24px;">
          <div class="detail-field">
            <label class="detail-field-label">Email</label>
            <input type="email" class="detail-field-input" id="edit-organizer-email" placeholder="Enter email">
          </div>

          <div class="detail-field">
            <label class="detail-field-label">Website URL</label>
            <input type="url" class="detail-field-input" id="edit-organizer-url" placeholder="Enter website URL">
          </div>
        </div>
      </div>

      <div class="detail-section">
        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 24px;">
          <h2 class="detail-section-title" style="margin-bottom: 0;">Event Dates & Times</h2>
          <button class="btn btn-neutral">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <line x1="12" y1="5" x2="12" y2="19"/>
              <line x1="5" y1="12" x2="19" y2="12"/>
            </svg>
            Add Event
          </button>
        </div>
        
        <div style="border: 1px solid #E0E3EE; border-radius: 4px; padding: 24px; background-color: #FFFFFF;">
          <div style="font-size: 16px; font-weight: 600; color: #191B34; margin-bottom: 16px;">Event 1</div>
          
          <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 24px;">
            <div class="detail-field">
              <label class="detail-field-label">Start Date & Time</label>
              <input type="text" class="detail-field-input" id="edit-start-date" placeholder="MM/DD/YYYY, HH:MM">
            </div>

            <div class="detail-field">
              <label class="detail-field-label">End Date & Time</label>
              <input type="text" class="detail-field-input" id="edit-end-date" placeholder="MM/DD/YYYY, HH:MM">
            </div>
          </div>
        </div>
      </div>

      <div class="detail-section">
        <h2 class="detail-section-title">Location & Links</h2>
        
        <div class="detail-field">
          <label class="detail-field-label">Location</label>
          <input type="text" class="detail-field-input" id="edit-location" placeholder="Enter location">
        </div>

        <div class="detail-field">
          <label class="detail-field-label">Event URL</label>
          <input type="url" class="detail-field-input" id="edit-event-url" placeholder="https://example.com/event">
        </div>
      </div>

      <div class="detail-section">
        <h2 class="detail-section-title">System Information</h2>
        
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 24px;">
          <div class="detail-field">
            <label class="detail-field-label">Revision</label>
            <input type="text" class="detail-field-input" id="detail-revision" readonly style="background-color: #F8FAFD; cursor: not-allowed;">
          </div>

          <div class="detail-field">
            <label class="detail-field-label">Author</label>
            <input type="text" class="detail-field-input" id="detail-author" readonly style="background-color: #F8FAFD; cursor: not-allowed;">
          </div>
        </div>

        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 24px;">
          <div class="detail-field">
            <label class="detail-field-label">Create Date</label>
            <input type="text" class="detail-field-input" id="detail-create-date" readonly style="background-color: #F8FAFD; cursor: not-allowed;">
          </div>

          <div class="detail-field">
            <label class="detail-field-label">Last Modified</label>
            <input type="text" class="detail-field-input" id="detail-modified" readonly style="background-color: #F8FAFD; cursor: not-allowed;">
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="modal-overlay" id="data-modal">
    <div class="modal-content">
      <div class="modal-sidebar">
        <h3>CONTENT TYPES</h3>
        <select class="form-input" style="margin-bottom: 24px;">
          <option>Events</option>
        </select>
        <h3>SORT BY</h3>
        <select class="form-input">
          <option>Last updated date</option>
        </select>
      </div>
      <div class="modal-main">
        <div class="modal-header">
          <h2>Events</h2>
          <button class="btn-icon" onclick="closeDataModal()" style="font-size: 24px; padding: 4px; width: 32px; height: 32px;">×</button>
        </div>
        <div class="event-list" id="event-list"></div>
      </div>
    </div>
  </div>

  <div class="modal-overlay" id="event-detail-modal">
    <div class="modal-content" style="width: 80vw; height: 85vh;">
      <div class="modal-main" style="width: 100%;">
        <div class="modal-header">
          <h2 id="modal-detail-title">Event Details</h2>
          <button class="btn-icon" onclick="closeEventDetailModal()" style="font-size: 24px; padding: 4px; width: 32px; height: 32px;">×</button>
        </div>
        <div style="flex: 1; overflow-y: auto; padding: 24px;" id="modal-detail-content">
        </div>
        <div style="padding: 24px; border-top: 1px solid #E0E3EE; display: flex; justify-content: flex-end; gap: 12px; background-color: #FFFFFF;">
          <button class="btn btn-secondary" onclick="closeEventDetailModal()">Cancel</button>
          <button class="btn btn-primary" onclick="closeEventDetailModal()">Continue</button>
        </div>
      </div>
    </div>
  </div>

  <script>
    var articleBlocks = [
      { type: 'paragraph', text: 'The 2021 Formula 1 season was one of the most dramatic, controversial, and competitive in the sport history. Two titans of the grid went head-to-head in a year-long duel that captivated fans around the world.' },
      { type: 'heading', text: 'Early Season Battles' },
      { type: 'paragraph', text: 'From the opening round in Bahrain, it was clear that Red Bull and Mercedes were evenly matched. Verstappen took early poles, while Hamilton experience and strategy kept him in contention. The two traded wins and exchanged the championship lead multiple times across the first half of the season.' },
      { type: 'heading', text: 'Tensions Rising' },
      { type: 'paragraph', text: 'By mid-season, their rivalry grew increasingly tense, highlighted by collisions at Silverstone and Monza that sent shockwaves through the paddock. Each incident added layers of controversy and rivalry, setting the stage for a nail-biting finish.' },
      { type: 'heading', text: 'Final Showdown in Abu Dhabi' },
      { type: 'paragraph', text: 'Entering the final race at Yas Marina, the two drivers were tied on points. After a chaotic and controversial finish involving a late safety car and race control decisions, Max Verstappen claimed his first World Championship, passing Hamilton on the final lap.' },
      { type: 'heading', text: 'Aftermath and Legacy' },
      { type: 'paragraph', text: 'The aftermath was filled with debate, protests, and regulatory scrutiny, ultimately leading to major procedural changes for the following season. Still, the 2021 championship stands as a watershed moment in F1 history.' }
    ];

    var activeMenuIndex = null;
    var activePlaceholderIndex = null;

    var events = [
      { title: "2025 National Race Championship", status: "PUBLISHED", category: "Sports", lastModified: "9/23/2025, 8:35 PM", published: "9/17/2025, 9:28 AM", author: "DHASHLAMON", hasEventbrite: true },
      { title: "Contemporary Art Gallery Opening Reception", status: "DRAFT", category: "Arts", lastModified: "9/16/2025, 10:38 PM", published: "--", author: "ARTCURATOR", hasEventbrite: false },
      { title: "Tech Innovation Summit 2025", status: "PUBLISHED", category: "Business", lastModified: "9/15/2025, 10:58 PM", published: "9/15/2025, 10:11 AM", author: "TECHWRITER", hasEventbrite: true },
      { title: "Community 5K Fun Run", status: "PUBLISHED", category: "Sports", lastModified: "10/18/2025, 3:22 PM", published: "10/15/2025, 9:45 AM", author: "EVENTCOORD", hasEventbrite: false }
    ];

    function toggleSection(section) {
      var content = document.getElementById('section-' + section);
      var chevron = document.getElementById('chevron-' + section);
      content.classList.toggle('open');
      chevron.classList.toggle('rotated');
    }

    function renderArticle() {
      var container = document.getElementById('article-content');
      container.innerHTML = '';
      
      var title = document.createElement('h1');
      title.className = 'article-title';
      title.textContent = 'The 2021 Formula 1 World Championship: A Season Like No Other';
      container.appendChild(title);
      
      for (var i = 0; i < articleBlocks.length; i++) {
        var block = articleBlocks[i];
        
        if (block.type === 'placeholder') {
          var div = document.createElement('div');
          div.className = 'event-placeholder';
          div.textContent = 'Event Placeholder';
          div.style.position = 'relative';
          div.setAttribute('data-index', i);
          div.onclick = function(e) {
            e.stopPropagation();
            var idx = parseInt(this.getAttribute('data-index'));
            
            // Remove selected class from all placeholders
            var allPlaceholders = document.querySelectorAll('.event-placeholder');
            for (var p = 0; p < allPlaceholders.length; p++) {
              allPlaceholders[p].classList.remove('selected');
            }
            
            // Add selected class to clicked placeholder
            this.classList.add('selected');
            
            togglePlaceholderFlyout(idx);
          };
          
          var flyout = document.createElement('div');
          flyout.className = 'placeholder-flyout';
          flyout.id = 'flyout-' + i;
          
          var flyoutBtn = document.createElement('button');
          flyoutBtn.className = 'flyout-button';
          flyoutBtn.textContent = 'Edit';
          flyoutBtn.setAttribute('data-index', i);
          flyoutBtn.onclick = function(e) {
            e.stopPropagation();
            var idx = parseInt(this.getAttribute('data-index'));
            openEventDetailModal(idx);
          };
          
          flyout.appendChild(flyoutBtn);
          div.appendChild(flyout);
          container.appendChild(div);
        } else if (block.type === 'heading') {
          var h2 = document.createElement('h2');
          h2.className = 'article-heading';
          h2.textContent = block.text;
          container.appendChild(h2);
        } else {
          var p = document.createElement('p');
          p.className = 'article-paragraph';
          p.innerHTML = block.text.replace(/Silverstone|Monza|Max Verstappen/g, '<strong>$&</strong>');
          container.appendChild(p);
        }
        
        if (i < articleBlocks.length - 1) {
          var addArea = document.createElement('div');
          addArea.className = 'add-icon-area';
          
          var addIcon = document.createElement('div');
          addIcon.className = 'add-icon';
          addIcon.id = 'add-icon-' + i;
          addIcon.innerHTML = '<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#FFFFFF" stroke-width="2"><line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/></svg>';
          
          var addMenu = document.createElement('div');
          addMenu.className = 'add-menu';
          addMenu.id = 'add-menu-' + i;
          
          // Create all the menu buttons
          var menuButtons = [
            { title: 'Audio', svg: '<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M9 18V5l12-2v13M9 13l12-2"/></svg>' },
            { title: 'Video', svg: '<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="2" y="2" width="20" height="20" rx="2.18" ry="2.18"/><line x1="7" y1="2" x2="7" y2="22"/><line x1="17" y1="2" x2="17" y2="22"/><line x1="2" y1="12" x2="22" y2="12"/><line x1="2" y1="7" x2="7" y2="7"/><line x1="2" y1="17" x2="7" y2="17"/><line x1="17" y1="17" x2="22" y2="17"/><line x1="17" y1="7" x2="22" y2="7"/></svg>' },
            { title: 'Image', svg: '<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"/><circle cx="8.5" cy="8.5" r="1.5"/><polyline points="21 15 16 10 5 21"/></svg>' },
            { title: 'Share', svg: '<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="18" cy="5" r="3"/><circle cx="6" cy="12" r="3"/><circle cx="18" cy="19" r="3"/><line x1="8.59" y1="13.51" x2="15.42" y2="17.49"/><line x1="15.41" y1="6.51" x2="8.59" y2="10.49"/></svg>' },
            { title: 'Annotations', svg: '<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/></svg>' },
            { title: 'Calendar', svg: '<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></svg>' },
            { title: 'Comment', svg: '<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/></svg>' },
            { title: 'Block', svg: '<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="3" width="7" height="7"/><rect x="14" y="3" width="7" height="7"/><rect x="14" y="14" width="7" height="7"/><rect x="3" y="14" width="7" height="7"/></svg>' },
            { title: 'Quote', svg: '<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M3 21c3 0 7-1 7-8V5c0-1.25-.756-2.017-2-2H4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2 1 0 1 0 1 1v1c0 1-1 2-2 2s-1 .008-1 1.031V20c0 1 0 1 1 1z"/><path d="M15 21c3 0 7-1 7-8V5c0-1.25-.757-2.017-2-2h-4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2h.75c0 2.25.25 4-2.75 4v3c0 1 0 1 1 1z"/></svg>' },
            { title: 'List', svg: '<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="8" y1="6" x2="21" y2="6"/><line x1="8" y1="12" x2="21" y2="12"/><line x1="8" y1="18" x2="21" y2="18"/><line x1="3" y1="6" x2="3.01" y2="6"/><line x1="3" y1="12" x2="3.01" y2="12"/><line x1="3" y1="18" x2="3.01" y2="18"/></svg>' },
            { title: 'Code', svg: '<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="16 18 22 12 16 6"/><polyline points="8 6 2 12 8 18"/></svg>' },
            { title: 'Link', svg: '<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"/><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"/></svg>' },
            { title: 'Header', svg: '<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="4 7 4 4 20 4 20 7"/><line x1="9" y1="20" x2="15" y2="20"/><line x1="12" y1="4" x2="12" y2="20"/></svg>' },
            { title: 'Grid', svg: '<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M3 3h7v7H3zM14 3h7v7h-7zM14 14h7v7h-7zM3 14h7v7H3z"/></svg>' },
            { title: 'Divider', svg: '<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="5" y1="12" x2="19" y2="12"/></svg>' },
            { title: 'Star', svg: '<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg>' },
            { title: 'Document', svg: '<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><polyline points="14 2 14 8 20 8"/><line x1="16" y1="13" x2="8" y2="13"/><line x1="16" y1="17" x2="8" y2="17"/><polyline points="10 9 9 9 8 9"/></svg>' },
            { title: 'Gallery', svg: '<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"/><circle cx="8.5" cy="8.5" r="1.5"/><polyline points="21 15 16 10 5 21"/></svg>' },
            { title: 'Navigation', svg: '<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="22" y1="2" x2="11" y2="13"/><polygon points="22 2 15 22 11 13 2 9 22 2"/></svg>' },
            { title: 'Settings', svg: '<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="3"/><path d="M12 1v6m0 6v6m9.66-9H15m-6 0H3m15.66 0L16 8.34M8.34 16 6 18.34m0-12.68L8.34 8M16 16l2.34 2.34"/></svg>' },
            { title: 'Print', svg: '<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="6 9 6 2 18 2 18 9"/><path d="M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"/><rect x="6" y="14" width="12" height="8"/></svg>' },
            { title: 'News', svg: '<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"/><path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"/></svg>' },
            { title: 'Edit', svg: '<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"/></svg>' },
            { title: 'Chat', svg: '<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/><line x1="9" y1="10" x2="15" y2="10"/><line x1="12" y1="7" x2="12" y2="13"/></svg>' },
            { title: 'Data', svg: '<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><ellipse cx="12" cy="5" rx="9" ry="3"/><path d="M21 12c0 1.66-4 3-9 3s-9-1.34-9-3"/><path d="M3 5v14c0 1.66 4 3 9 3s9-1.34 9-3V5"/></svg>' }
          ];
          
          for (var j = 0; j < menuButtons.length; j++) {
            var btn = document.createElement('button');
            btn.className = 'add-menu-icon';
            btn.title = menuButtons[j].title;
            btn.innerHTML = menuButtons[j].svg;
            
            if (menuButtons[j].title === 'Data') {
              btn.setAttribute('data-index', i);
              btn.onclick = function() {
                var idx = parseInt(this.getAttribute('data-index'));
                openDataModal(idx);
              };
            }
            
            addMenu.appendChild(btn);
          }
          
          addArea.appendChild(addIcon);
          addArea.appendChild(addMenu);
          
          addArea.setAttribute('data-index', i);
          addArea.addEventListener('mouseenter', function() {
            var idx = this.getAttribute('data-index');
            document.getElementById('add-icon-' + idx).classList.add('active');
          });
          
          addArea.addEventListener('mouseleave', function() {
            var idx = this.getAttribute('data-index');
            if (activeMenuIndex != idx) {
              document.getElementById('add-icon-' + idx).classList.remove('active');
            }
          });
          
          addIcon.setAttribute('data-index', i);
          addIcon.addEventListener('click', function() {
            var idx = this.getAttribute('data-index');
            toggleAddMenu(idx);
          });
          
          container.appendChild(addArea);
        }
      }
    }

    function toggleAddMenu(index) {
      if (activeMenuIndex !== null && activeMenuIndex != index) {
        var oldMenu = document.getElementById('add-menu-' + activeMenuIndex);
        if (oldMenu) {
          oldMenu.classList.remove('visible');
        }
        var oldIcon = document.getElementById('add-icon-' + activeMenuIndex);
        if (oldIcon) {
          oldIcon.classList.remove('active');
        }
      }
      
      var menu = document.getElementById('add-menu-' + index);
      if (menu) {
        menu.classList.toggle('visible');
        activeMenuIndex = menu.classList.contains('visible') ? index : null;
      }
    }

    function togglePlaceholderFlyout(index) {
      var flyouts = document.querySelectorAll('.placeholder-flyout');
      for (var i = 0; i < flyouts.length; i++) {
        if (i !== index) {
          flyouts[i].classList.remove('visible');
        }
      }

      var flyout = document.getElementById('flyout-' + index);
      if (flyout) {
        flyout.classList.toggle('visible');
        activePlaceholderIndex = flyout.classList.contains('visible') ? index : null;
      }
    }

    function openDataModal(index) {
      activeMenuIndex = index;
      document.getElementById('data-modal').classList.add('visible');
      renderEventList();
    }

    function closeDataModal() {
      document.getElementById('data-modal').classList.remove('visible');
    }

    function renderEventList() {
      var container = document.getElementById('event-list');
      container.innerHTML = '';
      
      for (var i = 0; i < events.length; i++) {
        var event = events[i];
        var item = document.createElement('div');
        item.className = 'event-item';
        
        var col1 = document.createElement('div');
        
        var title = document.createElement('div');
        title.className = 'event-item-title';
        title.textContent = event.title;
        col1.appendChild(title);
        
        if (event.hasEventbrite) {
          var badge = document.createElement('div');
          badge.className = 'event-badge';
          badge.textContent = '✓ Eventbrite';
          col1.appendChild(badge);
        }
        
        var statusRow = document.createElement('div');
        statusRow.style.display = 'flex';
        statusRow.style.gap = '8px';
        statusRow.style.alignItems = 'center';
        statusRow.style.marginTop = '12px';
        
        var statusLabel = document.createElement('span');
        statusLabel.style.fontSize = '14px';
        statusLabel.style.color = '#656A86';
        statusLabel.style.fontWeight = '500';
        statusLabel.textContent = 'Workflow status';
        
        var statusBadge = document.createElement('span');
        statusBadge.className = 'status-badge ' + (event.status === 'PUBLISHED' ? 'status-published' : 'status-draft');
        statusBadge.textContent = event.status;
        
        var catBadge = document.createElement('span');
        catBadge.className = 'category-badge';
        catBadge.textContent = event.category;
        
        statusRow.appendChild(statusLabel);
        statusRow.appendChild(statusBadge);
        statusRow.appendChild(catBadge);
        col1.appendChild(statusRow);
        
        var btnRow = document.createElement('div');
        btnRow.style.display = 'flex';
        btnRow.style.gap = '12px';
        btnRow.style.marginTop = '12px';
        
        var selectBtn = document.createElement('button');
        selectBtn.className = 'btn btn-primary';
        selectBtn.textContent = 'Select';
        selectBtn.setAttribute('data-index', i);
        selectBtn.onclick = function() {
          var idx = parseInt(this.getAttribute('data-index'));
          selectEvent(idx);
        };
        
        var previewBtn = document.createElement('button');
        previewBtn.className = 'btn btn-neutral';
        previewBtn.textContent = 'Preview';
        previewBtn.setAttribute('data-index', i);
        previewBtn.onclick = function() {
          var idx = parseInt(this.getAttribute('data-index'));
          previewEvent(idx);
        };
        
        var editBtn = document.createElement('button');
        editBtn.className = 'btn btn-neutral';
        editBtn.textContent = 'Edit';
        editBtn.setAttribute('data-index', i);
        editBtn.onclick = function() {
          var idx = parseInt(this.getAttribute('data-index'));
          editEvent(idx);
        };
        
        btnRow.appendChild(selectBtn);
        btnRow.appendChild(previewBtn);
        btnRow.appendChild(editBtn);
        col1.appendChild(btnRow);
        
        var col2 = document.createElement('div');
        col2.style.fontSize = '14px';
        col2.style.color = '#191B34';
        col2.style.fontWeight = '500';
        col2.textContent = event.lastModified;
        
        var col3 = document.createElement('div');
        col3.style.fontSize = '14px';
        col3.style.color = '#191B34';
        col3.style.fontWeight = '500';
        col3.textContent = event.published;
        
        var col4 = document.createElement('div');
        col4.style.fontSize = '14px';
        col4.style.color = '#656A86';
        col4.style.fontWeight = '500';
        col4.textContent = event.author;
        
        item.appendChild(col1);
        item.appendChild(col2);
        item.appendChild(col3);
        item.appendChild(col4);
        
        container.appendChild(item);
      }
    }

    function selectEvent(eventIndex) {
      if (activeMenuIndex !== null) {
        articleBlocks.splice(activeMenuIndex + 1, 0, { type: 'placeholder', event: events[eventIndex] });
        closeDataModal();
        renderArticle();
      }
    }

    function previewEvent(eventIndex) {
    }

    function editEvent(eventIndex) {
      var event = events[eventIndex];
      
      document.getElementById('composer').classList.add('hidden');
      document.getElementById('data-center').classList.add('visible');
      
      document.getElementById('event-detail-title').textContent = event.title;
      document.getElementById('event-detail-meta').textContent = 'Last updated: ' + event.lastModified;
      document.getElementById('detail-page-title').textContent = event.title;
      
      document.getElementById('edit-status').value = event.status;
      document.getElementById('edit-language').value = 'English';
      document.getElementById('edit-title').value = event.title;
      document.getElementById('edit-slug').value = event.title.toLowerCase().replace(/\s+/g, '_').replace(/[^a-z0-9_]/g, '');
      document.getElementById('edit-id').value = '109391';
      
      document.getElementById('edit-category').value = event.category;
      document.getElementById('edit-description').value = 'Details about ' + event.title;
      document.getElementById('edit-source').value = event.hasEventbrite ? 'Eventbrite' : 'Manual';
      document.getElementById('edit-event-status').value = 'Confirmed';
      document.getElementById('edit-priority').value = '1';
      document.getElementById('edit-price').value = 'free';
      
      document.getElementById('edit-organizer-name').value = 'Running Club NYC';
      
      document.getElementById('edit-start-date').value = '06/15/2025, 09:00';
      document.getElementById('edit-end-date').value = '06/15/2025, 05:00';
      
      document.getElementById('edit-location').value = 'Central Park, NYC';
      document.getElementById('edit-event-url').value = 'https://example.com/event';
      
      document.getElementById('detail-revision').value = '1';
      document.getElementById('detail-author').value = event.author;
      document.getElementById('detail-create-date').value = '11/11/2025, 07:09 PM';
      document.getElementById('detail-modified').value = event.lastModified;
      
      closeDataModal();
    }

    function returnToComposer() {
      document.getElementById('data-center').classList.remove('visible');
      document.getElementById('composer').classList.remove('hidden');
    }

    function openEventDetailModal(blockIndex) {
      var block = articleBlocks[blockIndex];
      if (!block || !block.event) return;

      var event = block.event;
      var modal = document.getElementById('event-detail-modal');
      var content = document.getElementById('modal-detail-content');
      
      document.getElementById('modal-detail-title').textContent = event.title;
      
      content.innerHTML = '';
      
      var wrapper = document.createElement('div');
      wrapper.style.maxWidth = '1000px';
      wrapper.style.margin = '0 auto';
      
      var basicSection = document.createElement('div');
      basicSection.className = 'detail-section';
      
      var basicTitle = document.createElement('h2');
      basicTitle.className = 'detail-section-title';
      basicTitle.textContent = 'Basic Information';
      basicSection.appendChild(basicTitle);
      
      var grid1 = document.createElement('div');
      grid1.style.display = 'grid';
      grid1.style.gridTemplateColumns = '1fr 1fr';
      grid1.style.gap = '24px';
      grid1.style.marginBottom = '24px';
      
      var statusField = document.createElement('div');
      statusField.className = 'detail-field';
      var statusLabel = document.createElement('label');
      statusLabel.className = 'detail-field-label';
      statusLabel.textContent = 'Status';
      var statusInput = document.createElement('input');
      statusInput.type = 'text';
      statusInput.className = 'detail-field-input';
      statusInput.value = event.status;
      statusInput.readOnly = true;
      statusInput.style.backgroundColor = '#F8FAFD';
      statusField.appendChild(statusLabel);
      statusField.appendChild(statusInput);
      
      var langField = document.createElement('div');
      langField.className = 'detail-field';
      var langLabel = document.createElement('label');
      langLabel.className = 'detail-field-label';
      langLabel.textContent = 'Language';
      var langInput = document.createElement('input');
      langInput.type = 'text';
      langInput.className = 'detail-field-input';
      langInput.value = 'English';
      langInput.readOnly = true;
      langInput.style.backgroundColor = '#F8FAFD';
      langField.appendChild(langLabel);
      langField.appendChild(langInput);
      
      grid1.appendChild(statusField);
      grid1.appendChild(langField);
      basicSection.appendChild(grid1);
      
      var nameField = document.createElement('div');
      nameField.className = 'detail-field';
      var nameLabel = document.createElement('label');
      nameLabel.className = 'detail-field-label';
      nameLabel.textContent = 'Display Name';
      var nameInput = document.createElement('input');
      nameInput.type = 'text';
      nameInput.className = 'detail-field-input';
      nameInput.value = event.title;
      nameInput.readOnly = true;
      nameInput.style.backgroundColor = '#F8FAFD';
      nameField.appendChild(nameLabel);
      nameField.appendChild(nameInput);
      basicSection.appendChild(nameField);
      
      var catField = document.createElement('div');
      catField.className = 'detail-field';
      var catLabel = document.createElement('label');
      catLabel.className = 'detail-field-label';
      catLabel.textContent = 'Category';
      var catInput = document.createElement('input');
      catInput.type = 'text';
      catInput.className = 'detail-field-input';
      catInput.value = event.category;
      catInput.readOnly = true;
      catInput.style.backgroundColor = '#F8FAFD';
      catField.appendChild(catLabel);
      catField.appendChild(catInput);
      basicSection.appendChild(catField);
      
      wrapper.appendChild(basicSection);
      
      var metaSection = document.createElement('div');
      metaSection.className = 'detail-section';
      
      var metaTitle = document.createElement('h2');
      metaTitle.className = 'detail-section-title';
      metaTitle.textContent = 'Metadata';
      metaSection.appendChild(metaTitle);
      
      var grid2 = document.createElement('div');
      grid2.style.display = 'grid';
      grid2.style.gridTemplateColumns = '1fr 1fr';
      grid2.style.gap = '24px';
      
      var authorField = document.createElement('div');
      authorField.className = 'detail-field';
      var authorLabel = document.createElement('label');
      authorLabel.className = 'detail-field-label';
      authorLabel.textContent = 'Author';
      var authorValue = document.createElement('div');
      authorValue.className = 'detail-field-value';
      authorValue.textContent = event.author;
      authorField.appendChild(authorLabel);
      authorField.appendChild(authorValue);
      
      var modField = document.createElement('div');
      modField.className = 'detail-field';
      var modLabel = document.createElement('label');
      modLabel.className = 'detail-field-label';
      modLabel.textContent = 'Last Modified';
      var modValue = document.createElement('div');
      modValue.className = 'detail-field-value';
      modValue.textContent = event.lastModified;
      modField.appendChild(modLabel);
      modField.appendChild(modValue);
      
      var pubField = document.createElement('div');
      pubField.className = 'detail-field';
      var pubLabel = document.createElement('label');
      pubLabel.className = 'detail-field-label';
      pubLabel.textContent = 'Published Date';
      var pubValue = document.createElement('div');
      pubValue.className = 'detail-field-value';
      pubValue.textContent = event.published;
      pubField.appendChild(pubLabel);
      pubField.appendChild(pubValue);
      
      var ebField = document.createElement('div');
      ebField.className = 'detail-field';
      var ebLabel = document.createElement('label');
      ebLabel.className = 'detail-field-label';
      ebLabel.textContent = 'Eventbrite Integration';
      var ebValue = document.createElement('div');
      ebValue.className = 'detail-field-value';
      ebValue.textContent = event.hasEventbrite ? 'Connected' : 'Not connected';
      ebField.appendChild(ebLabel);
      ebField.appendChild(ebValue);
      
      grid2.appendChild(authorField);
      grid2.appendChild(modField);
      grid2.appendChild(pubField);
      grid2.appendChild(ebField);
      
      metaSection.appendChild(grid2);
      wrapper.appendChild(metaSection);
      
      content.appendChild(wrapper);
      modal.classList.add('visible');
    }

    function closeEventDetailModal() {
      document.getElementById('event-detail-modal').classList.remove('visible');
      
      // Remove selected class from all placeholders when modal closes
      var allPlaceholders = document.querySelectorAll('.event-placeholder');
      for (var p = 0; p < allPlaceholders.length; p++) {
        allPlaceholders[p].classList.remove('selected');
      }
    }

    document.addEventListener('click', function(e) {
      if (!e.target.closest('.add-menu') && !e.target.closest('.add-icon')) {
        if (activeMenuIndex !== null) {
          var menu = document.getElementById('add-menu-' + activeMenuIndex);
          if (menu) {
            menu.classList.remove('visible');
          }
          var icon = document.getElementById('add-icon-' + activeMenuIndex);
          if (icon) {
            icon.classList.remove('active');
          }
          activeMenuIndex = null;
        }
      }
      
      if (!e.target.closest('.event-placeholder') && !e.target.closest('.placeholder-flyout')) {
        var flyouts = document.querySelectorAll('.placeholder-flyout');
        for (var i = 0; i < flyouts.length; i++) {
          flyouts[i].classList.remove('visible');
        }
        activePlaceholderIndex = null;
        
        // Remove selected class from all placeholders
        var allPlaceholders = document.querySelectorAll('.event-placeholder');
        for (var p = 0; p < allPlaceholders.length; p++) {
          allPlaceholders[p].classList.remove('selected');
        }
      }
    });

    document.addEventListener('keydown', function(e) {
      if (e.key === 'Escape') {
        closeDataModal();
        closeEventDetailModal();
      }
    });

    renderArticle();
  </script>
</body>
</html>